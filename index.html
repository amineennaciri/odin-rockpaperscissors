<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        function getComputerChoice(){
            let randomNumber = Math.random()
            if(randomNumber<=0.33){
                return 'Rock'
            }else if(randomNumber<=0.66){
                return 'Paper'
            }else{
                return 'Scissors'
            }
        }
        function playRockPaperScissors(playerSelection,computerSelection){
            playerSelection   = playerSelection.toLowerCase()
            playerSelection = playerSelection.replace(playerSelection.charAt(0), playerSelection.charAt(0).toUpperCase())
            // the line above make playerSelection parameter case-insensitive
            if( (playerSelection === 'Rock' && computerSelection === 'Scissors') 
            || (playerSelection === 'Paper' && computerSelection === 'Rock')
            || (playerSelection === 'Scissors' && computerSelection === 'Paper')){
                /* return `You Win! ${playerSelection} beats ${computerSelection}` */
                return `You Win!`
            }else if(playerSelection ===computerSelection){
                return `You Tied!`
            }else{
                /* return `You Lose! ${computerSelection} beats ${playerSelection}` */
                return `You Lose!`
            }
            
        }
/*         let playerSelection = prompt(`Let's play Rock Paper Scissors`)
        console.log(playRockPaperScissors(playerSelection,getComputerChoice())) */

        function game(){
            let result = ""
            let computerWins = 0
            let playerWins = 0
            for(let i = 1;i<6;i++){
                let playerSelection = prompt(`Let's play Rock Paper Scissors, this is game ${i}`)
                result = playRockPaperScissors(playerSelection,getComputerChoice())
                console.log(result)
                if (result === `You Win!`){
                    playerWins++
                }else if(result === `You Lose!`){
                    computerWins++
                }
            }
            if(computerWins>playerWins){
                return `Computer won ${computerWins} times and the player won ${playerWins} times, the winner of the 5 games is the computer!`
            }else if(computerWins<playerWins){
                return `Computer won ${computerWins} times and the player won ${playerWins} times, the winner of the 5 games is the player!`
            }else if(computerWins==playerWins){
                return `Computer won ${computerWins} times and the player won ${playerWins} times, the winner of the 5 games is neither one, this is a tie!`
            }
        }
        console.log(game())
    </script>
</body>
</html>